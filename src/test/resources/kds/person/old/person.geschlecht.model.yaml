format: "0.2.0"
version: "0.0.1"

fhirConfig:
  resource: "Patient"
  multiple: false
openEhrConfig:
  archetype: "openEHR-EHR-EVALUATION.gender.v1"

mappings:
  - name: "gender"
    with:
      fhir: "$fhirResource.gender"
      openehr: "$openEhrArchetype.geschlecht.administratives_geschlecht" #42 in the flat json should be mapped to fhir's one
      type: "CODING"
  - name: "comment"
    with:
      fhir: "$fhirResource.extension.value"
      openehr: "$openEhrArchetype.geschlecht.anderes_geschlecht_amtlich"
      type: "CODING"
    condition:
      targetRoot: "$fhirResource.extension"
      targetAttribute: "url"
      operator: "one of"
      criteria: "[extension_url_to_be_defined]" # need to extend fhir connect if this would want to be mapped from openehr, i.e. 'http://fhir.de/ValueSet/gender-other-de'
