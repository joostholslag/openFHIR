format: "0.2.0"
version: "0.2.0"

# No fhirConfig, because this model has no direct Resource equivalent in FHIR. It can only be used in openEHR Archetype slots or as FHIR Resource attribute.

openEhrConfig:
  archetype: "openEHR-EHR-CLUSTER.death_details.v1"

mappings:
  - name: "death date"
    with:
      fhir: "$fhirRoot.deceased"
      openehr: "$openEhrArchetype.personendaten.angaben_zum_tod.angaben_zum_tod.sterbedatum"
      type: "DATETIME"

  - name: "cause of death"
    with:
      fhir: "Condition"
      openehr: "$openEhrArchetype.personendaten.angaben_zum_tod.angaben_zum_tod"
      type: "NONE"
    followedBy:
      mappings:
        - name: "condition code"
          with:
            fhir: "code"
            openehr: "todesdiagnose"
            type: "CODEABLECONCEPT"


