engine: FHIRConnect/v0.0.1
type: context
metadata:
  name:  KDS_medikation.context
  version: 0.0.1a # version of this particular mapping
spec: # schema specific to the FHIRConnect v0.0.1 engine
  system: FHIR
  version: R4

context:
  profileUrl: "https://www.medizininformatik-initiative.de/fhir/core/modul-medikation/StructureDefinition/MedicationAdministration"
  templateId: "KDS_Medikamentenverabreichungen"
  archetypes:
    - "ACTION.medication.v1"
    - "CLUSTER.medication.v2.medication-to-medication"
    - "CLUSTER.dosage.v2.BackboneElement-to-dosage"
    - "CLUSTER.case_identification.v0"
    - "CLUSTER.medication.v2.substance-to-medication"
  extensions:
    - "KDS_medikamentenverabreichung"
  start: "ACTION.medication.v1"

#todo: should we extend also CLUSTER.medication.v2.medication-to-medication
# because currently it doesn't map Medication.ingredient, as there are no corresponding
# openehr paths available in this template (bestandteil.bestandteil)

