engine: FHIRConnect/v0.0.1
type: context
metadata:
  name:  KDSLaborauftragContext
  version: 0.0.1a # version of this particular mapping
spec: # schema specific to the FHIRConnect v0.0.1 engine
  system: FHIR
  version: R4

openEHR:
  templateId: "KDS_Laborauftrag"
  archetypes:
    - "openEHR-EHR-INSTRUCTION.service_request.v1"
    - "openEHR-EHR-CLUSTER.specimen.v1"
    - "openEHR-EHR-CLUSTER.organisation.v1"
  extensions:
    - "KDSLaborauftrag"

fhir:
  resourceType: "Bundle"
  condition:
    targetRoot: "$fhirResource"
    targetAttribute: "entry.resource.meta.profile"
    operator: "one of"
    criteria: "[https://www.medizininformatik-initiative.de/fhir/core/modul-labor/StructureDefinition/ServiceRequestLab]"